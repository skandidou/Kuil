# ===========================================
# Kuil Backend - Environment Variables
# ===========================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# -------------------------------------------
# Server Configuration
# -------------------------------------------
NODE_ENV=development
PORT=3000
APP_VERSION=1.0.0

# -------------------------------------------
# Database (PostgreSQL)
# -------------------------------------------
# Supabase or any PostgreSQL connection string
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# -------------------------------------------
# Redis Cache (Optional but Recommended)
# -------------------------------------------
# Upstash Redis URL (recommended for production)
# If not set, falls back to in-memory cache (not recommended for production)
REDIS_URL=redis://default:password@host:port
# Alternative: UPSTASH_REDIS_URL=rediss://default:password@host:port

# -------------------------------------------
# LinkedIn OAuth 2.0
# -------------------------------------------
# Get these from LinkedIn Developer Portal
# https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret
LINKEDIN_REDIRECT_URI=https://your-backend-url.com/auth/callback

# -------------------------------------------
# Google Gemini AI
# -------------------------------------------
# Get API key from Google AI Studio
# https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key
GEMINI_MODEL=gemini-2.0-flash

# -------------------------------------------
# Security - JWT & Encryption
# -------------------------------------------
# IMPORTANT: Generate strong random strings (32+ characters)
# Use: openssl rand -base64 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_at_least_32_chars
JWT_EXPIRES_IN=7d

# Used to encrypt LinkedIn tokens before storing in database
ENCRYPTION_KEY=your_encryption_key_at_least_32_chars

# -------------------------------------------
# iOS App Configuration
# -------------------------------------------
# Custom URL scheme for OAuth callback redirect
FRONTEND_REDIRECT_URL=kuil://

# ===========================================
# Production Deployment Notes
# ===========================================
#
# Railway:
# - Set these variables in Railway dashboard
# - DATABASE_URL is auto-provided if using Railway PostgreSQL
# - Use Railway's "Generate" button for secrets
#
# Upstash Redis (Free Tier):
# - Create free Redis instance at upstash.com
# - Copy the REST URL (starts with rediss://)
# - Set as REDIS_URL or UPSTASH_REDIS_URL
#
# Security Checklist:
# [ ] JWT_SECRET is unique and random (32+ chars)
# [ ] ENCRYPTION_KEY is unique and random (32+ chars)
# [ ] All secrets are different between environments
# [ ] .env is in .gitignore
# [ ] NODE_ENV=production in production
#
# ===========================================
